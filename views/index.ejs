<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoTube - Home</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav>
        <div class="logo"><a href="/">NeoTube</a></div>
        <div class="menu">
            <% if (user) { %>
                <a href="/upload" class="btn"><i class="fas fa-video"></i> Upload Video</a>
                <a href="/logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
            <% } else { %>
                <a href="/login"><i class="fas fa-sign-in-alt"></i> Login</a>
                <a href="/register"><i class="fas fa-user-plus"></i> Register</a>
            <% } %>
        </div>
    </nav>

    <div class="container">
        <h2>Trending Videos</h2>
        <div class="video-grid">
            
          <% videos.forEach(video => { %>
<div class="video-card">
    <a href="/watch/<%= video.id %>">
        <img src="/uploads/<%= video.thumbnail %>" alt="thumbnail">
    </a> <div class="video-info">
        <a href="/channel/<%= video.username %>/<%= video.user_id %>">
            <img src="/uploads/<%= video.user_avatar %>" class="avatar-small">
        </a>
        <div>
            <a href="/watch/<%= video.id %>">
                <h3><%= video.title %></h3>
            </a>
            <p>
                <a href="/channel/<%= video.username %>/<%= video.user_id %>" style="color: var(--secondary-text);">
                    <%= video.username %>
                </a> 
                â€¢ <%= video.views %> views
            </p>
        </div>
    </div>
</div>
            <% }) %>

            <% if (videos.length === 0) { %>
                <p style="color: var(--secondary-text); text-align: center; width: 100%; margin-top: 50px;">
                    No videos yet. Be the first to upload content!
                </p>
            <% } %>
            
        </div>
    </div>
</body>
</html>